{% load static %}
{% load filters %}

{% if user.photo is None %}
	{% if user.gender == 'Masculino' %}
		<img id="photo_preview" src="{% static 'imgs/defaultMaleIcon.png' %}" onclick="document.querySelector('#profile_photo').click()">
    {% elif user.gender == 'Feminino' %}
		<img id="photo_preview" src="{% static 'imgs/defaultFemaleIcon.png' %}" onclick="document.querySelector('#profile_photo').click()">
	{% endif %}
{% else %}
    <img id="photo_preview" src="data:image;base64,{{ user.photo|binary_to_b64 }}" onclick="document.querySelector('#profile_photo').click()">
{% endif %}

<form method="POST" action="/auth/profile/update" class="d-flex flex-column" enctype="multipart/form-data">
    {% csrf_token %}
    <input type="file" name="photo" id="profile_photo" class="form-control invisible" accept=".jpg, .jpeg, .png" onchange="file_to_preview(this, document.querySelector('#photo_preview'))">
    <input type="text" name="username" value="{{ user.username }}" class="form-control">
    <input type="password" name="password" value="{{ user.password }}" class="form-control">
    
    <button type="submit" class="btn btn-outline-secondary">Salvar</button>
</form>